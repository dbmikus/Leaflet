---
layout: tutorial
title: Layer Groups and Layers Control
---

<h3>Layer Groups and Layers Control</h3>

<p>This guide will show you how to group several layers into one, and how to use the layers control to allow users to easily switch different layers on your map.</p>
<p>Note: this only works in the latest (master) version of Leaflet.</p>

<div id="map" style="height: 250px; margin-bottom: 18px"></div>
<script>
	var littletonMarker = new L.Marker(new L.LatLng(39.61, -105.02)).bindPopup("This is Littleton, CO."),
		denverMarker = new L.Marker(new L.LatLng(39.74, -104.99)).bindPopup("This is Denver, CO."),
		auroraMarker = new L.Marker(new L.LatLng(39.73, -104.8)).bindPopup("This is Aurora, CO."),
		goldenMarker = new L.Marker(new L.LatLng(39.77, -105.23)).bindPopup("This is Golden, CO.");

	var citiesLayer = new L.LayerGroup();

	citiesLayer.addLayer(littletonMarker);
	citiesLayer.addLayer(denverMarker);
	citiesLayer.addLayer(auroraMarker);
	citiesLayer.addLayer(goldenMarker);

	var cloudmadeAttribution = 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade',
		cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/{styleId}/256/{z}/{x}/{y}.png';

	var minimal = new L.TileLayer(cloudmadeUrl, {styleId: 22677, attribution: cloudmadeAttribution}),
		midnightCommander = new L.TileLayer(cloudmadeUrl, {styleId: 999, attribution: cloudmadeAttribution}),
		motorways = new L.TileLayer(cloudmadeUrl, {styleId: 46561, attribution: cloudmadeAttribution});

	var map = new L.Map('map', {center: new L.LatLng(39.73, -104.99), zoom: 10, layers: [minimal, motorways, citiesLayer]});

	var baseMaps = {
	    "Minimal": minimal,
	    "Night View": midnightCommander
	};

	var overlayMaps = {
	    "Motorways": motorways,
	    "Cities": citiesLayer
	};

	layersControl = new L.Control.Layers(baseMaps, overlayMaps);

	map.addControl(layersControl);
</script>

<p><a target="_blank" href="layers-control-example.html">View example on a separate page &rarr;</a></p>

<h3>Layer Groups</h3>

<p>Lets suppose you have a bunch of layers you want to combine into a group to handle them as one in your code:</p>

<pre><code>var littletonMarker = new L.Marker(new L.LatLng(39.61, -105.02)).bindPopup("This is Littleton, CO."),
	denverMarker = new L.Marker(new L.LatLng(39.74, -104.99)).bindPopup("This is Denver, CO."),
	auroraMarker = new L.Marker(new L.LatLng(39.73, -104.8)).bindPopup("This is Aurora, CO."),
	goldenMarker = new L.Marker(new L.LatLng(39.77, -105.23)).bindPopup("This is Golden, CO.");</code></pre>

<p>Instead of adding them directly to the map, you can do the following, using the <a href="http://leaflet.cloudmade.com/reference.html#layergroup">LayerGroup</a> class:</p>

<pre><code>var citiesLayer = new L.LayerGroup();

citiesLayer.addLayer(littletonMarker)
           .addLayer(denverMarker)
           .addLayer(auroraMarker)
           .addLayer(goldenMarker);

map.addLayer(citiesLayer);</code></pre>

<p>Easy enough! Now you have <code>citiesLayer</code> that combines your city markers into one layer you can add or remove from the map at once.</p>

<h3>Layers Control</h3>

<p>Leaflet has a nice little control that allows your users control what layers they want to see on your map. In addition to showing you how to use it, we'll show another handy use for layer groups.</p>

<p>There are two types of layers &mdash; base layers that are mutually exclusive (only one can be visible on your map), e.g. tile layers, and overlays &mdash; all the other stuff you put over the base layers. In this example, we want to have two base layers (minimal and night-style base map) to switch between, and two overlays to switch on and off &mdash; a pink motorways overlay and city markers (those we created earlier). Lets create those layers and add the default ones to the map:</p>

<pre><code>var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/YOUR-API-KEY/{styleId}/256/{z}/{x}/{y}.png',
	cloudmadeAttribution = 'Map data &amp;copy; 2011 OpenStreetMap contributors, Imagery &amp;copy; 2011 CloudMade',
	cloudmadeOptions = {maxZoom: 18, };

var minimal = new L.TileLayer(cloudmadeUrl, {styleId: 22677, attribution: cloudmadeAttribution}),
	midnightCommander = new L.TileLayer(cloudmadeUrl, {styleId: 999, attribution: cloudmadeAttribution}),
	motorways = new L.TileLayer(cloudmadeUrl, {styleId: 46561, attribution: cloudmadeAttribution});

var map = new L.Map('map', {
	center: new L.LatLng(39.73, -104.99),
	zoom: 10,
	layers: [minimal, motorways, citiesLayer]
});</code></pre>

<p>Next, we'll create two objects. One will contain our base layers and one will contain our overlays. These are just simple objects with key/value pairs. The key is what sets the text for the layer in the control (e.g. "Night View"). The corresponding value is a reference to the layer (e.g. <code>midnightCommander</code>).</p>

<pre><code>var baseMaps = {
	"Minimal": minimal,
	"Night View": midnightCommander
};

var overlayMaps = {
    "Motorways": motorways,
    "Cities": citiesLayer
};</code></pre>

<!-- TODO: Link "Layers Control" to the Layers Control docs when they are created -->
<p>Now, all that's left to do is to create a Layers Control and add it to the map. The first argument passed when creating the layers control is the base layers object. The second argument is the overlays object. Both arguments are optional &mdash; for example, you can pass just a base layers object by ommiting the second argument, or just an overlays objects by passing <code>null</code> as the first argument.</p>

<pre><code>var layersControl = new L.Control.Layers(baseMaps, overlayMaps);

map.addControl(layersControl);</code></pre>

<p>Now lets <a target="_blank" href="layers-control-example.html">view the result on a separate page &rarr;</a></p>
